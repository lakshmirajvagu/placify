import{r,j as m}from"./index-BW9J8XDZ.js";import{e as C,o as M,u as h}from"./TransitionWrapper-C8SpBI9G.js";import{u as j}from"./useEventCallback-Duh4GctK.js";function J(){return r.useState(null)}const W=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",I=typeof document<"u",v=I||W?r.useLayoutEffect:r.useEffect;function Q(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const O=r.createContext(C?window:void 0);O.Provider;function N(){return r.useContext(O)}const g=(n,e)=>C?n==null?(e||M()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function X(n,e){const i=N(),[t,o]=r.useState(()=>g(n,i==null?void 0:i.document));if(!t){const s=g(n);s&&o(s)}return r.useEffect(()=>{},[e,t]),r.useEffect(()=>{const s=g(n);s!==t&&o(s)},[n,t]),t}function P({children:n,in:e,onExited:i,mountOnEnter:t,unmountOnExit:o}){const s=r.useRef(null),c=r.useRef(e),l=j(i);r.useEffect(()=>{e?c.current=!0:l(s.current)},[e,l]);const a=h(s,n.ref),u=r.cloneElement(n,{ref:a});return e?u:o||!c.current&&t?null:u}function Y(n){return n.code==="Escape"||n.keyCode===27}function F(){const n=r.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}const G=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function V(n,e){if(n==null)return{};var i={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;i[t]=n[t]}return i}function _(n){let{onEnter:e,onEntering:i,onEntered:t,onExit:o,onExiting:s,onExited:c,addEndListener:l,children:a}=n,u=V(n,G);const{major:R}=F(),x=R>=19?a.props.ref:a.ref,d=r.useRef(null),p=h(d,typeof a=="function"?null:x),f=E=>b=>{E&&d.current&&E(d.current,b)},y=r.useCallback(f(e),[e]),w=r.useCallback(f(i),[i]),T=r.useCallback(f(t),[t]),k=r.useCallback(f(o),[o]),L=r.useCallback(f(s),[s]),D=r.useCallback(f(c),[c]),S=r.useCallback(f(l),[l]);return Object.assign({},u,{nodeRef:d},e&&{onEnter:y},i&&{onEntering:w},t&&{onEntered:T},o&&{onExit:k},s&&{onExiting:L},c&&{onExited:D},l&&{addEndListener:S},{children:typeof a=="function"?(E,b)=>a(E,Object.assign({},b,{ref:p})):r.cloneElement(a,{ref:p})})}const $=["component"];function z(n,e){if(n==null)return{};var i={};for(var t in n)if({}.hasOwnProperty.call(n,t)){if(e.indexOf(t)>=0)continue;i[t]=n[t]}return i}const A=r.forwardRef((n,e)=>{let{component:i}=n,t=z(n,$);const o=_(t);return m.jsx(i,Object.assign({ref:e},o))});function B({in:n,onTransition:e}){const i=r.useRef(null),t=r.useRef(!0),o=j(e);return v(()=>{if(!i.current)return;let s=!1;return o({in:n,element:i.current,initial:t.current,isStale:()=>s}),()=>{s=!0}},[n,o]),v(()=>(t.current=!1,()=>{t.current=!0}),[]),i}function K({children:n,in:e,onExited:i,onEntered:t,transition:o}){const[s,c]=r.useState(!e);e&&s&&c(!1);const l=B({in:!!e,onTransition:u=>{const R=()=>{u.isStale()||(u.in?t==null||t(u.element,u.initial):(c(!0),i==null||i(u.element)))};Promise.resolve(o(u)).then(R,x=>{throw u.in||c(!0),x})}}),a=h(l,n.ref);return s&&!e?null:r.cloneElement(n,{ref:a})}function Z(n,e,i){return n?m.jsx(A,Object.assign({},i,{component:n})):e?m.jsx(K,Object.assign({},i,{transition:e})):m.jsx(P,Object.assign({},i))}function nn(n,e){return n.classList?!!e&&n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}export{X as a,J as b,Q as c,v as d,nn as h,Y as i,Z as r,N as u};
