import{R as m,e as g,r as f,j as H}from"./index-BW9J8XDZ.js";function Y(t,o){if(t==null)return{};var i={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(o.includes(n))continue;i[n]=t[n]}return i}function D(t,o){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},D(t,o)}function Z(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,D(t,o)}function z(t){return t&&t.ownerDocument||document}function q(t){var o=z(t);return o&&o.defaultView||window}function B(t,o){return q(t).getComputedStyle(t,o)}var J=/([A-Z])/g;function K(t){return t.replace(J,"-$1").toLowerCase()}var Q=/^ms-/;function C(t){return K(t).replace(Q,"-ms-")}var tt=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function et(t){return!!(t&&tt.test(t))}function U(t,o){var i="",n="";if(typeof o=="string")return t.style.getPropertyValue(C(o))||B(t).getPropertyValue(C(o));Object.keys(o).forEach(function(r){var e=o[r];!e&&e!==0?t.style.removeProperty(C(r)):et(r)?n+=r+"("+e+") ":i+=C(r)+": "+e+";"}),n&&(i+="transform: "+n+";"),t.style.cssText+=";"+i}const _={disabled:!1},I=m.createContext(null);var nt=function(o){return o.scrollTop},S="unmounted",v="exited",h="entering",T="entered",N="exiting",c=function(t){Z(o,t);function o(n,r){var e;e=t.call(this,n,r)||this;var s=r,a=s&&!s.isMounting?n.enter:n.appear,u;return e.appearStatus=null,n.in?a?(u=v,e.appearStatus=h):u=T:n.unmountOnExit||n.mountOnEnter?u=S:u=v,e.state={status:u},e.nextCallback=null,e}o.getDerivedStateFromProps=function(r,e){var s=r.in;return s&&e.status===S?{status:v}:null};var i=o.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(r){var e=null;if(r!==this.props){var s=this.state.status;this.props.in?s!==h&&s!==T&&(e=h):(s===h||s===T)&&(e=N)}this.updateStatus(!1,e)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var r=this.props.timeout,e,s,a;return e=s=a=r,r!=null&&typeof r!="number"&&(e=r.exit,s=r.enter,a=r.appear!==void 0?r.appear:s),{exit:e,enter:s,appear:a}},i.updateStatus=function(r,e){if(r===void 0&&(r=!1),e!==null)if(this.cancelNextCallback(),e===h){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:g.findDOMNode(this);s&&nt(s)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===v&&this.setState({status:S})},i.performEnter=function(r){var e=this,s=this.props.enter,a=this.context?this.context.isMounting:r,u=this.props.nodeRef?[a]:[g.findDOMNode(this),a],l=u[0],p=u[1],d=this.getTimeouts(),y=a?d.appear:d.enter;if(!r&&!s||_.disabled){this.safeSetState({status:T},function(){e.props.onEntered(l)});return}this.props.onEnter(l,p),this.safeSetState({status:h},function(){e.props.onEntering(l,p),e.onTransitionEnd(y,function(){e.safeSetState({status:T},function(){e.props.onEntered(l,p)})})})},i.performExit=function(){var r=this,e=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:g.findDOMNode(this);if(!e||_.disabled){this.safeSetState({status:v},function(){r.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:N},function(){r.props.onExiting(a),r.onTransitionEnd(s.exit,function(){r.safeSetState({status:v},function(){r.props.onExited(a)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(r,e){e=this.setNextCallback(e),this.setState(r,e)},i.setNextCallback=function(r){var e=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,e.nextCallback=null,r(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},i.onTransitionEnd=function(r,e){this.setNextCallback(e);var s=this.props.nodeRef?this.props.nodeRef.current:g.findDOMNode(this),a=r==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],l=u[0],p=u[1];this.props.addEndListener(l,p)}r!=null&&setTimeout(this.nextCallback,r)},i.render=function(){var r=this.state.status;if(r===S)return null;var e=this.props,s=e.children;e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef;var a=Y(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return m.createElement(I.Provider,{value:null},typeof s=="function"?s(r,a):m.cloneElement(m.Children.only(s),a))},o}(m.Component);c.contextType=I;c.propTypes={};function b(){}c.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b};c.UNMOUNTED=S;c.EXITED=v;c.ENTERING=h;c.ENTERED=T;c.EXITING=N;const rt=!!(typeof window<"u"&&window.document&&window.document.createElement);var w=!1,k=!1;try{var R={get passive(){return w=!0},get once(){return k=w=!0}};rt&&(window.addEventListener("test",R,R),window.removeEventListener("test",R,!0))}catch{}function it(t,o,i,n){if(n&&typeof n!="boolean"&&!k){var r=n.once,e=n.capture,s=i;!k&&r&&(s=i.__once||function a(u){this.removeEventListener(o,a,e),i.call(this,u)},i.__once=s),t.addEventListener(o,s,w?n:e)}t.addEventListener(o,i,n)}function ot(t,o,i,n){var r=n&&typeof n!="boolean"?n.capture:n;t.removeEventListener(o,i,r),i.__once&&t.removeEventListener(o,i.__once,r)}function j(t,o,i,n){return it(t,o,i,n),function(){ot(t,o,i,n)}}function st(t,o,i,n){if(n===void 0&&(n=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(o,i,n),t.dispatchEvent(r)}}function at(t){var o=U(t,"transitionDuration")||"",i=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*i}function ut(t,o,i){i===void 0&&(i=5);var n=!1,r=setTimeout(function(){n||st(t,"transitionend",!0)},o+i),e=j(t,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(r),e()}}function ft(t,o,i,n){i==null&&(i=at(t)||0);var r=ut(t,i,n),e=j(t,"transitionend",o);return function(){r(),e()}}function M(t,o){const i=U(t,o)||"",n=i.indexOf("ms")===-1?1e3:1;return parseFloat(i)*n}function Et(t,o){const i=M(t,"transitionDuration"),n=M(t,"transitionDelay"),r=ft(t,e=>{e.target===t&&(r(),o(e))},i+n)}function vt(t){t.offsetHeight}const P=t=>!t||typeof t=="function"?t:o=>{t.current=o};function ct(t,o){const i=P(t),n=P(o);return r=>{i&&i(r),n&&n(r)}}function lt(t,o){return f.useMemo(()=>ct(t,o),[t,o])}function pt(t){return t&&"setState"in t?g.findDOMNode(t):t??null}const ht=m.forwardRef(({onEnter:t,onEntering:o,onEntered:i,onExit:n,onExiting:r,onExited:e,addEndListener:s,children:a,childRef:u,...l},p)=>{const d=f.useRef(null),y=lt(d,u),L=x=>{y(pt(x))},E=x=>O=>{x&&d.current&&x(d.current,O)},F=f.useCallback(E(t),[t]),G=f.useCallback(E(o),[o]),X=f.useCallback(E(i),[i]),W=f.useCallback(E(n),[n]),V=f.useCallback(E(r),[r]),$=f.useCallback(E(e),[e]),A=f.useCallback(E(s),[s]);return H.jsx(c,{ref:p,...l,onEnter:F,onEntered:X,onEntering:G,onExit:W,onExited:$,onExiting:V,addEndListener:A,nodeRef:d,children:typeof a=="function"?(x,O)=>a(x,{...O,ref:L}):m.cloneElement(a,{ref:L})})});export{v as E,ht as T,Y as _,N as a,h as b,T as c,vt as d,rt as e,it as f,ft as g,pt as h,j as l,z as o,ot as r,U as s,Et as t,lt as u};
