import{r as t,b as C,B as N,j as e,c as X}from"./index-BW9J8XDZ.js";import{A as a}from"./Accordion-QbAzgRVx.js";import{T as Z}from"./Table-BMev4Dnk.js";import{P as Y}from"./Placeholder-lanV48h9.js";import"./ThemeProvider-CkxvoxuK.js";import"./hook-DYghO068.js";import"./TransitionWrapper-C8SpBI9G.js";import"./Col-ybKDMb82.js";import"./Button-DwHs9q8a.js";import"./Button-2RoaZ0va.js";const l=({branchName:m,studentData:i})=>{var u;const[x,S]=t.useState({role:""});return t.useEffect(()=>{const r=localStorage.getItem("token");C.get(`${N}/user/detail`,{headers:{Authorization:`Bearer ${r}`}}).then(o=>{S({role:o.data.role})}).catch(o=>{console.log("AddUserTable.jsx => ",o),setToastMessage(o),setShowToast(!0)})},[]),e.jsxs(a.Item,{eventKey:m,className:"shadow-md",children:[e.jsx(a.Header,{children:m}),e.jsx(a.Body,{children:e.jsxs(Z,{striped:!0,borderless:!0,hover:!0,className:"w-fit",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"6%"},children:"Roll No."}),e.jsx("th",{style:{width:"15%"},children:"Full Name"}),e.jsx("th",{style:{width:"10%"},children:"UIN"}),e.jsx("th",{style:{width:"15%"},children:"Email"}),e.jsx("th",{style:{width:"11%"},children:"Phone Number"}),e.jsx("th",{style:{width:"10%"},children:"Resume"}),e.jsx("th",{style:{width:"11%"},children:"No. of Internships"}),e.jsx("th",{style:{width:"11%"},children:"No. of Applied Jobs"})]})}),e.jsx("tbody",{children:(i==null?void 0:i.length)>0?(u=i==null?void 0:i.sort((r,o)=>{var c,d;const h=parseInt(((c=r==null?void 0:r.studentProfile)==null?void 0:c.rollNumber)||0),n=parseInt(((d=o==null?void 0:o.studentProfile)==null?void 0:d.rollNumber)||0);return h-n}))==null?void 0:u.map((r,o)=>{var h,n,c,d,j,f,b;return e.jsxs("tr",{children:[e.jsx("td",{children:(h=r==null?void 0:r.studentProfile)==null?void 0:h.rollNumber}),e.jsx("td",{children:(x.role==="tpo_admin"||x.role==="management_admin")&&e.jsx(X,{to:`/${x.role==="tpo_admin"?"tpo":"management"}/user/${r==null?void 0:r._id}`,className:"no-underline text-blue-500 hover:text-blue-700",children:(r==null?void 0:r.first_name)+" "+(r==null?void 0:r.middle_name)+" "+(r==null?void 0:r.last_name)})}),e.jsx("td",{children:(n=r==null?void 0:r.studentProfile)==null?void 0:n.UIN}),e.jsx("td",{children:e.jsx("a",{href:"mailto:"+(r==null?void 0:r.email),target:"_blank",rel:"noopener noreferrer",className:"no-underline text-blue-500 hover:text-blue-700",children:r==null?void 0:r.email})}),e.jsx("td",{children:r==null?void 0:r.number}),e.jsx("td",{children:e.jsx("a",{href:(c=r==null?void 0:r.studentProfile)==null?void 0:c.resume,target:"_blank",rel:"noopener noreferrer",className:"no-underline text-blue-500 hover:text-blue-700",children:"View Resume"})}),e.jsx("td",{children:((j=(d=r==null?void 0:r.studentProfile)==null?void 0:d.internships)==null?void 0:j.length)||0}),e.jsx("td",{children:((b=(f=r==null?void 0:r.studentProfile)==null?void 0:f.appliedJobs)==null?void 0:b.length)||0})]},o)}):e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:"No Student Registered!"})})})]})})]})},ee=()=>e.jsxs(a,{defaultActiveKey:["1"],flush:!0,className:"flex flex-col gap-4",children:[e.jsxs(a.Item,{eventKey:"1",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(a.Header,{children:"Fourth Year"}),e.jsx(a.Body,{children:e.jsx(a,{flush:!0,defaultActiveKey:["Computer"],className:"flex flex-col gap-2",children:[...Array(5)].map((m,i)=>e.jsx(Y,{as:"p",animation:"glow",children:e.jsx(Y,{className:"w-full"})},i))})})]}),e.jsx(a.Item,{className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:e.jsx(a.Header,{children:"Third Year"})}),e.jsx(a.Item,{className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:e.jsx(a.Header,{children:"Second Year"})}),e.jsx(a.Item,{className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:e.jsx(a.Header,{children:"First Year"})})]});function ne(){document.title="CPMS | All Students";const[m,i]=t.useState(!0),[x,S]=t.useState([]),[u,r]=t.useState([]),[o,h]=t.useState([]),[n,c]=t.useState([]),[d,j]=t.useState([]),[f,b]=t.useState([]),[w,g]=t.useState([]),[v,A]=t.useState([]),[y,I]=t.useState([]),[D,E]=t.useState([]),[M,F]=t.useState([]),[k,K]=t.useState([]),[T,B]=t.useState([]),[P,_]=t.useState([]),[H,R]=t.useState([]),[U,$]=t.useState([]),[L,z]=t.useState([]),[J,V]=t.useState([]),[q,G]=t.useState([]),[O,Q]=t.useState([]),W=async()=>{try{const p=localStorage.getItem("token"),s=await C.get(`${N}/student/all-students-data-year-and-branch`,{headers:{Authorization:`Bearer ${p}`}});S(s.data.firstYearComputer),r(s.data.firstYearCivil),h(s.data.firstYearMechanical),j(s.data.firstYearECS),c(s.data.firstYearAIDS),b(s.data.secondYearComputer),g(s.data.secondYearCivil),A(s.data.secondYearMechanical),I(s.data.secondYearECS),E(s.data.secondYearAIDS),F(s.data.thirdYearComputer),K(s.data.thirdYearCivil),B(s.data.thirdYearMechanical),_(s.data.thirdYearECS),R(s.data.thirdYearAIDS),$(s.data.fourthYearComputer),z(s.data.fourthYearCivil),V(s.data.fourthYearMechanical),G(s.data.fourthYearECS),Q(s.data.fourthYearAIDS)}catch(p){console.log("Error fetching jobs ",p)}finally{i(!1)}};return t.useEffect(()=>{W()},[]),e.jsx(e.Fragment,{children:m?e.jsx(ee,{}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"my-4 max-md:p-2 md:p-6 overflow-auto",children:e.jsx("div",{className:"",children:e.jsxs(a,{defaultActiveKey:["1"],flush:!0,className:"flex flex-col gap-4",children:[e.jsxs(a.Item,{eventKey:"1",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(a.Header,{children:"Fourth Year"}),e.jsx(a.Body,{children:e.jsxs(a,{flush:!0,defaultActiveKey:["Computer"],className:"flex flex-col gap-2",children:[e.jsx(l,{branchName:"Computer",studentData:U}),e.jsx(l,{branchName:"Civil",studentData:L}),e.jsx(l,{branchName:"ECS",studentData:q}),e.jsx(l,{branchName:"AIDS",studentData:O}),e.jsx(l,{branchName:"Mechanical",studentData:J})]})})]}),e.jsxs(a.Item,{eventKey:"2",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(a.Header,{children:"Third Year"}),e.jsx(a.Body,{children:e.jsxs(a,{flush:!0,defaultActiveKey:["Computer"],className:"flex flex-col gap-2",children:[e.jsx(l,{branchName:"Computer",studentData:M}),e.jsx(l,{branchName:"Civil",studentData:k}),e.jsx(l,{branchName:"ECS",studentData:P}),e.jsx(l,{branchName:"AIDS",studentData:H}),e.jsx(l,{branchName:"Mechanical",studentData:T})]})})]}),e.jsxs(a.Item,{eventKey:"3",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(a.Header,{children:"Second Year"}),e.jsx(a.Body,{children:e.jsxs(a,{flush:!0,defaultActiveKey:["Computer"],className:"flex flex-col gap-2",children:[e.jsx(l,{branchName:"Computer",studentData:f}),e.jsx(l,{branchName:"Civil",studentData:w}),e.jsx(l,{branchName:"ECS",studentData:y}),e.jsx(l,{branchName:"AIDS",studentData:D}),e.jsx(l,{branchName:"Mechanical",studentData:v})]})})]}),e.jsxs(a.Item,{eventKey:"4",className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400",children:[e.jsx(a.Header,{children:"First Year"}),e.jsx(a.Body,{children:e.jsxs(a,{flush:!0,defaultActiveKey:["Computer"],className:"flex flex-col gap-2",children:[e.jsx(l,{branchName:"Computer",studentData:x}),e.jsx(l,{branchName:"Civil",studentData:u}),e.jsx(l,{branchName:"ECS",studentData:d}),e.jsx(l,{branchName:"AIDS",studentData:n}),e.jsx(l,{branchName:"Mechanical",studentData:o})]})})]})]})})})})})}export{ne as default};
