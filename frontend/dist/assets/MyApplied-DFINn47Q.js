import{r as l,b as r,B as d,j as e,c as m}from"./index-BW9J8XDZ.js";import{T as u,O as y,a as f}from"./TablePlaceholder-Ble8dsBU.js";import{T as g}from"./Table-BMev4Dnk.js";import"./hasClass-Cxr2nBO8.js";import"./TransitionWrapper-C8SpBI9G.js";import"./useEventCallback-Duh4GctK.js";import"./useTimeout-C4AjoZ0W.js";import"./ThemeProvider-CkxvoxuK.js";import"./hook-DYghO068.js";import"./Placeholder-lanV48h9.js";import"./Col-ybKDMb82.js";import"./Button-DwHs9q8a.js";import"./Button-2RoaZ0va.js";function I(){document.title="CPMS | My Applied Job";const[n,c]=l.useState(!0),[i,h]=l.useState({}),[a,o]=l.useState([]);l.useEffect(()=>{const t=localStorage.getItem("token");r.get(`${d}/user/detail`,{headers:{Authorization:`Bearer ${t}`}}).then(s=>{h({id:s.data.id,role:s.data.role})}).catch(s=>{console.log("MyApplied.jsx => ",s),setToastMessage(s),setShowToast(!0)})},[]);const x=async()=>{if(i!=null&&i.id)try{const t=await r.get(`${d}/tpo/myjob/${i==null?void 0:i.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});t!=null&&t.data&&o(t==null?void 0:t.data)}catch(t){console.log("Error While Fetching Error => ",t)}finally{c(!1)}};l.useEffect(()=>{x()},[i==null?void 0:i.id]);const p=t=>e.jsx(f,{id:"button-tooltip",...t,children:"View Post"});return e.jsx(e.Fragment,{children:n?e.jsx(u,{}):e.jsxs(g,{striped:!0,bordered:!0,hover:!0,responsive:"sm",className:"bg-white my-6 rounded-lg shadow text-base max-sm:text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"6%"},children:"Sr. No."}),e.jsx("th",{style:{width:"16%"},children:e.jsx("b",{children:"Company Name"})}),e.jsx("th",{style:{width:"16%"},children:"Job Title"}),e.jsx("th",{style:{width:"10%"},children:"Annual CTC"}),e.jsx("th",{style:{width:"10%"},children:"Applied On"}),e.jsx("th",{style:{width:"10%"},children:"Last date of Application"}),e.jsx("th",{style:{width:"10%"},children:"Status"}),e.jsx("th",{style:{width:"12%"},children:"No. of Students Applied"}),e.jsx("th",{style:{width:"10%"},children:"Action"})]})}),e.jsx("tbody",{children:(a==null?void 0:a.length)>0?a==null?void 0:a.map((t,s)=>e.jsxs("tr",{children:[e.jsx("td",{children:s+1}),e.jsx("td",{children:e.jsx("b",{children:t==null?void 0:t.companyName})}),e.jsx("td",{children:t==null?void 0:t.jobTitle}),e.jsx("td",{children:t==null?void 0:t.salary}),e.jsx("td",{children:new Date(t==null?void 0:t.appliedAt.split("T")).toLocaleDateString("en-IN")}),e.jsx("td",{children:new Date(t==null?void 0:t.applicationDeadline).toLocaleDateString("en-IN")}),e.jsx("td",{children:(t==null?void 0:t.status.charAt(0).toUpperCase())+(t==null?void 0:t.status.slice(1))}),e.jsx("td",{children:t==null?void 0:t.numberOfApplicants}),e.jsx("td",{children:e.jsx("div",{className:"flex justify-around items-center",children:e.jsx("div",{className:"px-0.5",children:e.jsx(y,{placement:"top",delay:{show:250,hide:400},overlay:p,children:e.jsx(m,{className:"text-black",to:`/student/job/${t.jobId}`,children:e.jsx("i",{className:"fa-solid fa-circle-info text-2xl max-sm:text-lg cursor-pointer transition-colors duration-200 ease-in-out hover:text-blue-500"})})})})})})]},s)):e.jsx("tr",{children:e.jsx("td",{colSpan:"9",children:"No Jobs found"})})})]})})}export{I as default};
