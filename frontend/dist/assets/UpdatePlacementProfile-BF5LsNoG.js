import{r as c,b as u,B as S,j as l}from"./index-BW9J8XDZ.js";import{B as De}from"./Button-DwHs9q8a.js";import{F as a,a as s}from"./Form-B79OQcrp.js";import{C as el}from"./Col-ybKDMb82.js";import{I as ll}from"./Image-CL_LWnjq.js";import{C as nl}from"./Toast-B3EGjjVm.js";import"./ThemeProvider-CkxvoxuK.js";import"./Button-2RoaZ0va.js";import"./useTimeout-C4AjoZ0W.js";import"./TransitionWrapper-C8SpBI9G.js";import"./useEventCallback-Duh4GctK.js";const ol=({fetchCurrentUserData:e})=>{const[r,p]=c.useState(""),[x,P]=c.useState({id:"",role:""});c.useEffect(()=>{const f=localStorage.getItem("token");u.get(`${S}/user/detail`,{headers:{Authorization:`Bearer ${f}`}}).then(d=>{P({id:d.data.id,role:d.data.role})}).catch(d=>{console.log("UploadResume.jsx => ",d)})},[]);const g=async f=>{if(f.preventDefault(),!f.target.files[0]){p("Please select a file");return}const d=new FormData;d.append("resume",f.target.files[0]),d.append("userId",x.id);try{const h=await u.post(`${S}/student/upload-resume`,d,{headers:{"Content-Type":"multipart/form-data"}});e&&e(),p("Resume uploaded successfully")}catch(h){console.error("Error uploading the resume",h),p("Error uploading the resume")}};return l.jsx(l.Fragment,{children:l.jsxs(a,{controlId:"floatingResume",label:"Update Resume",children:[l.jsx(s.Control,{type:"file",accept:".pdf, .doc, .docx",placeholder:"Upload Resume",name:"resume",onChange:g}),r&&l.jsx("p",{className:"text-sm text-gray-300 mt-1",children:r})]})})};function xl(){var C,v,y,N,B,Q,A,E,I,G,w,H,M,Y,k,U,F,T,L,R,O,$,K,_,z,q,V,J,W,X,Z,D,ee,le,ne,oe,te,ie,se,ae,re,de,ce,me,fe,pe,he,xe,ge,ue,Se,Pe,je;document.title="CPMS | Placement Profile";const[e,r]=c.useState(null),[p,x]=c.useState(!0),[P,g]=c.useState(!1),[f,d]=c.useState(""),h=async()=>{try{const n=localStorage.getItem("token"),o=await u.get(`${S}/user/detail`,{headers:{Authorization:`Bearer ${n}`}});r(o.data),x(!1)}catch(n){console.log("Account.jsx => ",n),x(!1)}};c.useEffect(()=>{h(),b()},[p]);const m=n=>{var o;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,SGPA:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.SGPA,[n.target.name]:n.target.value}}}),b()},Xe=async n=>{n.preventDefault();try{const o=localStorage.getItem("token"),t=await u.post(`${S}/user/update-profile`,e,{headers:{Authorization:`Bearer ${o}`}});t.data&&t.data.msg&&(d(t.data.msg),g(!0))}catch(o){console.log("UserDetails => ",o)}},[j,Ze]=c.useState(0),b=()=>{var t,i,be,Ce,ve,ye,Ne,Be,Qe,Ae,Ee,Ie,Ge,we,He,Me,Ye,ke,Ue,Fe,Te,Le,Re,Oe,$e,Ke,_e,ze,qe,Ve,Je,We;let n=0,o=0;((i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.SGPA)==null?void 0:i.sem1)!=="0"&&(n+=Number((Ce=(be=e==null?void 0:e.studentProfile)==null?void 0:be.SGPA)==null?void 0:Ce.sem1),o+=1),((ye=(ve=e==null?void 0:e.studentProfile)==null?void 0:ve.SGPA)==null?void 0:ye.sem2)!=="0"&&(n+=Number((Be=(Ne=e==null?void 0:e.studentProfile)==null?void 0:Ne.SGPA)==null?void 0:Be.sem2),o+=1),((Ae=(Qe=e==null?void 0:e.studentProfile)==null?void 0:Qe.SGPA)==null?void 0:Ae.sem3)!=="0"&&(n+=Number((Ie=(Ee=e==null?void 0:e.studentProfile)==null?void 0:Ee.SGPA)==null?void 0:Ie.sem3),o+=1),((we=(Ge=e==null?void 0:e.studentProfile)==null?void 0:Ge.SGPA)==null?void 0:we.sem4)!=="0"&&(n+=Number((Me=(He=e==null?void 0:e.studentProfile)==null?void 0:He.SGPA)==null?void 0:Me.sem4),o+=1),((ke=(Ye=e==null?void 0:e.studentProfile)==null?void 0:Ye.SGPA)==null?void 0:ke.sem5)!=="0"&&(n+=Number((Fe=(Ue=e==null?void 0:e.studentProfile)==null?void 0:Ue.SGPA)==null?void 0:Fe.sem5),o+=1),((Le=(Te=e==null?void 0:e.studentProfile)==null?void 0:Te.SGPA)==null?void 0:Le.sem6)!=="0"&&(n+=Number((Oe=(Re=e==null?void 0:e.studentProfile)==null?void 0:Re.SGPA)==null?void 0:Oe.sem6),o+=1),((Ke=($e=e==null?void 0:e.studentProfile)==null?void 0:$e.SGPA)==null?void 0:Ke.sem7)!=="0"&&(n+=Number((ze=(_e=e==null?void 0:e.studentProfile)==null?void 0:_e.SGPA)==null?void 0:ze.sem7),o+=1),((Ve=(qe=e==null?void 0:e.studentProfile)==null?void 0:qe.SGPA)==null?void 0:Ve.sem8)!=="0"&&(n+=Number((We=(Je=e==null?void 0:e.studentProfile)==null?void 0:Je.SGPA)==null?void 0:We.sem8),o+=1),Ze((n/o).toFixed(2))};return l.jsx(l.Fragment,{children:p?l.jsx("div",{className:"flex justify-center h-72 items-center",children:l.jsx("i",{className:"fa-solid fa-spinner fa-spin text-3xl"})}):l.jsxs(l.Fragment,{children:[l.jsx(nl,{show:P,onClose:()=>g(!1),message:f,delay:3e3,position:"bottom-end"}),l.jsx("div",{className:"",children:l.jsxs("form",{onSubmit:Xe,children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 my-4 text-base max-sm:text-sm",children:[l.jsxs("div",{className:"grid backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400 p-6 max-md:col-span-2",children:[l.jsx("span",{className:"text-2xl max-sm:text-xl",children:"Basic Details"}),l.jsxs("div",{className:"flex flex-col justify-between py-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-700 font-bold",children:"Full Name: "}),l.jsxs("span",{className:"text-gray-800",children:[(e==null?void 0:e.first_name)+" ",(e==null?void 0:e.middle_name)&&(e==null?void 0:e.middle_name)+" ",e==null?void 0:e.last_name]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-700 font-bold",children:"Email: "}),l.jsx("span",{className:"text-gray-800",children:e==null?void 0:e.email})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-700 font-bold",children:"Number: "}),l.jsx("span",{className:"text-gray-800",children:e==null?void 0:e.number})]}),((C=e==null?void 0:e.studentProfile)==null?void 0:C.uin)&&l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-700 font-bold",children:"UIN: "}),l.jsx("span",{className:"text-gray-800",children:(v=e==null?void 0:e.studentProfile)==null?void 0:v.uin})]})]}),l.jsx(el,{xs:5,md:4,className:"flex justify-end items-start rounded",children:l.jsx(ll,{src:e==null?void 0:e.profile,thumbnail:!0})})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(ol,{fetchCurrentUserData:h})," ",((y=e==null?void 0:e.studentProfile)==null?void 0:y.resume)!=="undefined"&&l.jsxs("div",{className:"py-2 px-2",children:[l.jsx("span",{className:"bg-blue-500 py-1 pr-2 rounded cursor-pointer hover:bg-blue-700",children:l.jsxs("a",{href:(N=e==null?void 0:e.studentProfile)==null?void 0:N.resume,target:"_blanck",className:"no-underline text-white",children:[l.jsx("i",{className:"fa-regular fa-eye px-2"}),"View Resume"]})}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:(Q=(B=e==null?void 0:e.studentProfile)==null?void 0:B.resume)==null?void 0:Q.filename})]})]})]})]}),l.jsxs("div",{className:"backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400 p-6 max-md:col-span-2",children:[l.jsx("span",{className:"text-2xl max-sm:text-xl",children:"College Information"}),l.jsxs("div",{className:"grid grid-cols-2",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{className:" py-3 flex flex-wrap gap-2",children:[l.jsx(a,{controlId:"floatingSem1",label:"Sem 1",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 1",name:"sem1",step:"0.01",value:(E=(A=e==null?void 0:e.studentProfile)==null?void 0:A.SGPA)==null?void 0:E.sem1,onChange:m})}),l.jsx(a,{controlId:"floatingSem2",label:"Sem 2",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 2",name:"sem2",step:"0.01",value:(G=(I=e==null?void 0:e.studentProfile)==null?void 0:I.SGPA)==null?void 0:G.sem2,onChange:m})}),l.jsx(a,{controlId:"floatingSem3",label:"Sem 3",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 3",name:"sem3",step:"0.01",value:(H=(w=e==null?void 0:e.studentProfile)==null?void 0:w.SGPA)==null?void 0:H.sem3,onChange:m})}),l.jsx(a,{controlId:"floatingSem4",label:"Sem 4",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 4",name:"sem4",step:"0.01",value:(Y=(M=e==null?void 0:e.studentProfile)==null?void 0:M.SGPA)==null?void 0:Y.sem4,onChange:m})})]}),l.jsxs("div",{className:" py-3 flex flex-wrap gap-2",children:[l.jsx(a,{controlId:"floatingSem5",label:"Sem 5",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 5",name:"sem5",step:"0.01",value:(U=(k=e==null?void 0:e.studentProfile)==null?void 0:k.SGPA)==null?void 0:U.sem5,onChange:m})}),l.jsx(a,{controlId:"floatingSem6",label:"Sem 6",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 6",name:"sem6",step:"0.01",value:(T=(F=e==null?void 0:e.studentProfile)==null?void 0:F.SGPA)==null?void 0:T.sem6,onChange:m})}),l.jsx(a,{controlId:"floatingSem7",label:"Sem 7",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 7",name:"sem7",step:"0.01",value:(R=(L=e==null?void 0:e.studentProfile)==null?void 0:L.SGPA)==null?void 0:R.sem7,onChange:m})}),l.jsx(a,{controlId:"floatingSem8",label:"Sem 8",children:l.jsx(s.Control,{type:"number",placeholder:"Sem 8",name:"sem8",step:"0.01",value:($=(O=e==null?void 0:e.studentProfile)==null?void 0:O.SGPA)==null?void 0:$.sem8,onChange:m})})]})]}),l.jsxs("div",{className:"px-2 py-3 flex flex-col gap-3",children:[l.jsx(a,{controlId:"floatingSelectYear",label:"Current Year",children:l.jsxs(s.Select,{"aria-label":"Floating label select year",className:"cursor-pointer",name:"year",value:((K=e==null?void 0:e.studentProfile)==null?void 0:K.year)||"undefined",onChange:n=>{r({...e,studentProfile:{...e==null?void 0:e.studentProfile,year:n.target.value}})},children:[l.jsx("option",{disabled:!0,value:"undefined",className:"text-gray-400",children:"Enter Current Year"}),l.jsx("option",{value:"1",children:"1st"}),l.jsx("option",{value:"2",children:"2nd"}),l.jsx("option",{value:"3",children:"3rd"}),l.jsx("option",{value:"4",children:"4th"})]})}),l.jsx(a,{controlId:"floatingLiveKT",label:"Live KT's",children:l.jsx(s.Control,{type:"number",placeholder:"Live KT's",name:"liveKT",value:((_=e==null?void 0:e.studentProfile)==null?void 0:_.liveKT)||0,onChange:n=>{r({...e,studentProfile:{...e==null?void 0:e.studentProfile,liveKT:n.target.value}})}})}),l.jsx(s.Check,{type:"switch",id:"gap",checked:((z=e==null?void 0:e.studentProfile)==null?void 0:z.gap)==="true"||((q=e==null?void 0:e.studentProfile)==null?void 0:q.gap)===!0,onChange:n=>{r({...e,studentProfile:{...e==null?void 0:e.studentProfile,gap:n.target.checked}})},name:"gap",label:"Any Gap"}),j!=="NaN"&&l.jsxs("div",{className:"mt-4 text-2xl text-green-500 font-bold",children:[l.jsx("span",{className:"",children:"CGPA: "}),l.jsx("span",{className:"",children:j})]})]})]})]}),l.jsxs("div",{className:"col-span-2 backdrop-blur-md bg-white/30 border border-white/20 rounded-lg shadow shadow-red-400 p-6",children:[l.jsx("span",{className:"text-2xl max-sm:text-xl",children:"Past Qualification"}),l.jsxs("div",{className:"grid grid-cols-3 max-sm:grid-cols-1",children:[l.jsxs("div",{className:"px-2 py-3 flex flex-col gap-2",children:[l.jsx(a,{controlId:"floatingSelectSSC",label:"SSC Board Name",children:l.jsxs(s.Select,{"aria-label":"Floating label select SSCBoard",className:"cursor-pointer",name:"sscBoard",value:((W=(J=(V=e==null?void 0:e.studentProfile)==null?void 0:V.pastQualification)==null?void 0:J.ssc)==null?void 0:W.board)||"undefined",onChange:n=>{var o,t,i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.pastQualification,ssc:{...(i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.pastQualification)==null?void 0:i.ssc,board:n.target.value}}}})},children:[l.jsx("option",{disabled:!0,value:"undefined",className:"text-gray-400",children:"Enter Your SSC Board Name"}),l.jsx("option",{value:"Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)",children:"Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)"}),l.jsx("option",{value:"Central Board of Secondary Education (CBSE)",children:"Central Board of Secondary Education (CBSE)"}),l.jsx("option",{value:"Council for the Indian School Certificate Examinations (CISCE)",children:"Council for the Indian School Certificate Examinations (CISCE)"}),l.jsx("option",{value:"Other",children:"Other"})]})}),l.jsx(a,{controlId:"floatingSSCMarks",label:"SSC Percentage",children:l.jsx(s.Control,{type:"number",placeholder:"SSC Percentage",name:"sscPercentage",value:(D=(Z=(X=e==null?void 0:e.studentProfile)==null?void 0:X.pastQualification)==null?void 0:Z.ssc)==null?void 0:D.percentage,onChange:n=>{var o,t,i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.pastQualification,ssc:{...(i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.pastQualification)==null?void 0:i.ssc,percentage:n.target.value}}}})}})}),l.jsx(a,{controlId:"floatingSelectSSCPassingYear",label:"SSC Passing Year",children:l.jsx(s.Control,{type:"number",placeholder:"SSC Passing Year",name:"sscPassingYear",value:(ne=(le=(ee=e==null?void 0:e.studentProfile)==null?void 0:ee.pastQualification)==null?void 0:le.ssc)==null?void 0:ne.year,onChange:n=>{var o,t,i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.pastQualification,ssc:{...(i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.pastQualification)==null?void 0:i.ssc,year:n.target.value}}}})}})})]}),l.jsxs("div",{className:"px-2 py-3 flex flex-col gap-2",children:[l.jsx(a,{controlId:"floatingSelectHSC",label:"HSC Board Name",children:l.jsxs(s.Select,{"aria-label":"Floating label select HSC Board",className:"cursor-pointer",name:"hscBoard",value:((ie=(te=(oe=e==null?void 0:e.studentProfile)==null?void 0:oe.pastQualification)==null?void 0:te.hsc)==null?void 0:ie.board)||"undefined",onChange:n=>{var o,t,i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.pastQualification,hsc:{...(i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.pastQualification)==null?void 0:i.hsc,board:n.target.value}}}})},children:[l.jsx("option",{disabled:!0,value:"undefined",className:"text-gray-400",children:"Enter Your SSC Board Name"}),l.jsx("option",{value:"Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)",children:"Maharashtra State Board of Secondary and Higher Secondary Education (MSBSHSE)"}),l.jsx("option",{value:"Central Board of Secondary Education (CBSE)",children:"Central Board of Secondary Education (CBSE)"}),l.jsx("option",{value:"Council for the Indian School Certificate Examinations (CISCE)",children:"Council for the Indian School Certificate Examinations (CISCE)"}),l.jsx("option",{value:"NoHSC",children:"No HSC"}),l.jsx("option",{value:"Other",children:"Other"})]})}),l.jsx(a,{controlId:"floatingHSCMarks",label:"HSC Percentage",children:l.jsx(s.Control,{type:"number",placeholder:"HSC Percentage",name:"hscPercentage",value:((re=(ae=(se=e==null?void 0:e.studentProfile)==null?void 0:se.pastQualification)==null?void 0:ae.hsc)==null?void 0:re.percentage)||"",onChange:n=>{var o,t,i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.pastQualification,hsc:{...(i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.pastQualification)==null?void 0:i.hsc,percentage:n.target.value}}}})}})}),l.jsx(a,{controlId:"floatingSelectHSCPassingYear",label:"HSC Passing Year",children:l.jsx(s.Control,{type:"number",placeholder:"HSC Passing Year",name:"hscPassingYear",value:((me=(ce=(de=e==null?void 0:e.studentProfile)==null?void 0:de.pastQualification)==null?void 0:ce.hsc)==null?void 0:me.year)||"",onChange:n=>{var o,t,i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.pastQualification,hsc:{...(i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.pastQualification)==null?void 0:i.hsc,year:n.target.value}}}})}})})]}),l.jsxs("div",{className:"px-2 py-3 flex flex-col gap-2",children:[l.jsx(a,{controlId:"floatingSelectDiploma",label:"Diploma Board Name",children:l.jsxs(s.Select,{"aria-label":"Floating label select Diploma Board",className:"cursor-pointer",name:"diplomaBoard",value:((he=(pe=(fe=e==null?void 0:e.studentProfile)==null?void 0:fe.pastQualification)==null?void 0:pe.diploma)==null?void 0:he.board)||"undefined",onChange:n=>{var o,t,i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.pastQualification,diploma:{...(i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.pastQualification)==null?void 0:i.diploma,board:n.target.value}}}})},children:[l.jsx("option",{disabled:!0,value:"undefined",className:"text-gray-400",children:"Enter Your Diploma University Name"}),l.jsx("option",{value:"Mumbai University",children:"Mumbai University"}),l.jsx("option",{value:"NoDiploma",children:"No Diploma"}),l.jsx("option",{value:"Other",children:"Other"})]})}),l.jsx(a,{controlId:"floatingDiplomaMarks",label:"Diploma CGPA",children:l.jsx(s.Control,{type:"number",placeholder:"Diploma Percentage",name:"diplomaPercentage",value:((ue=(ge=(xe=e==null?void 0:e.studentProfile)==null?void 0:xe.pastQualification)==null?void 0:ge.diploma)==null?void 0:ue.percentage)||"",onChange:n=>{var o,t,i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.pastQualification,diploma:{...(i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.pastQualification)==null?void 0:i.diploma,percentage:n.target.value}}}})}})}),l.jsx(a,{controlId:"floatingSelectDiplomaPassingYear",label:"Diploma Passing Year",children:l.jsx(s.Control,{type:"number",placeholder:"Diploma Passing Year",name:"diplomaPassingYear",value:((je=(Pe=(Se=e==null?void 0:e.studentProfile)==null?void 0:Se.pastQualification)==null?void 0:Pe.diploma)==null?void 0:je.year)||"",onChange:n=>{var o,t,i;r({...e,studentProfile:{...e==null?void 0:e.studentProfile,pastQualification:{...(o=e==null?void 0:e.studentProfile)==null?void 0:o.pastQualification,diploma:{...(i=(t=e==null?void 0:e.studentProfile)==null?void 0:t.pastQualification)==null?void 0:i.diploma,year:n.target.value}}}})}})})]})]})]})]}),l.jsx("div",{className:"flex flex-col justify-center items-center gap-2",onMouseOver:n=>{n.target.querySelector("Button i").classList.add("fa-beat")},onMouseLeave:n=>{n.target.querySelector("Button i").classList.remove("fa-beat")},children:l.jsxs(De,{variant:"primary",type:"submit",size:"lg",children:[l.jsx("i",{className:"fa-regular fa-floppy-disk mr-2"}),"Save"]})})]})})]})})}export{xl as default};
